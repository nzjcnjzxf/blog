webpackJsonp([12],{G3hg:function(t,s){},V5Zn:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});a("PBmY");var e=a("I4Nl"),c=a.n(e),i=a("LOkV"),o=a("vgQg"),n={data:function(){return{msg:"",mask:!1,canClick:!0,imgCode:o.b,phone:"",captcha1:"",captcha2:"",password:"",password1:"",count:0}},created:function(){},methods:{sure:function(){var t=this;""!==this.captcha1?this.$api.requestchkCode({randCode:this.captcha1}).then(function(s){s.success?t.$api.requestSend({mobile:t.phone,flag:3}).then(function(s){if(console.log(s),s.success){c()({message:"验证码已发送",position:"bottom"}),t.canClick=!1,t.closeMask(),t.count=60;var a=setInterval(function(){t.count--,0===t.count&&(t.canClick=!0,clearInterval(a))},1e3)}}):t.msg=s.msg}):this.msg="验证码不能为空"},sureBtn:function(){var t=this;if(""!==this.phone&&""!==this.password)return Object(i.b)(this.password)?void(this.password===this.password1?this.$api.requestuPwd({name:this.phone,pwd:this.password,code:this.captcha2}).then(function(s){s.success?(c()("修改密码成功"),t.$router.push("/login")):c()(s.msg)}):c()("两次输入密码不一致")):(c()("密码格式不对"),this.password="",this.password1="",void(this.captcha2=""));c()("电话和密码不能为空")},showCode:function(){""!==this.phone&&Object(i.a)(this.phone)?this.canClick&&(this.mask=!0):c()("手机号有误")},closeMask:function(){this.mask=!1,this.captcha1="",this.msg=""},changeCode:function(){this.imgCode=o.b+"?"+(new Date).getTime()}}},l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"box fx fx-ac"},[e("span",{staticClass:"char iconfont icon-shanchudelete30",on:{click:function(s){t.$router.go("-1")}}})]),t._v(" "),e("h3",{staticClass:"tx-c fz500"},[t._v("找回密码")]),t._v(" "),e("div",{staticClass:"pd-10"},[e("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.phone,callback:function(s){t.phone=s},expression:"phone"}}),t._v(" "),e("mt-field",{attrs:{label:"验证码",placeholder:"验证码"},model:{value:t.captcha2,callback:function(s){t.captcha2=s},expression:"captcha2"}},[e("span",{staticClass:"get-code",on:{click:t.showCode}},[t._v(t._s(t.canClick?"获取验证码":"还剩"+t.count+"s"))])]),t._v(" "),e("mt-field",{attrs:{label:"新密码",placeholder:"请输入新密码(8-16位字母或数字)",type:"password"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),t._v(" "),e("mt-field",{attrs:{label:"确认密码",placeholder:"请再次输入密码",type:"password"},model:{value:t.password1,callback:function(s){t.password1=s},expression:"password1"}}),t._v(" "),e("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.sureBtn}},[t._v("确定")])],1),t._v(" "),t.mask?e("div",{staticClass:"mask fx fx-ac fx-jc"},[e("div",{staticClass:"code-alert"},[e("div",{staticClass:"top"},[e("span",[t._v("请先完成下方的验证")]),t._v(" "),e("span",{staticClass:"fz-20 iconfont icon-shanchudelete30",on:{click:t.closeMask}})]),t._v(" "),e("div",{staticClass:"code"},[e("div",{staticClass:"content fx fx-ac"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha1,expression:"captcha1"}],staticClass:"input",attrs:{type:"text",maxlength:"4"},domProps:{value:t.captcha1},on:{input:function(s){s.target.composing||(t.captcha1=s.target.value)}}}),t._v(" "),e("img",{attrs:{src:t.imgCode,width:"60",height:"30"}}),t._v(" "),e("img",{attrs:{src:a("j1JE"),width:"25",height:"20"},on:{click:t.changeCode}})]),t._v(" "),e("div",{staticClass:"mistake"},[t._v(t._s(t.msg))]),t._v(" "),e("mt-button",{staticClass:"btn",attrs:{size:"large",type:"primary"},on:{click:t.sure}},[t._v("确定")])],1)])]):t._e()])},staticRenderFns:[]};var r=a("vSla")(n,l,!1,function(t){a("G3hg")},"data-v-36885568",null);s.default=r.exports}});
//# sourceMappingURL=12.6eb744d64651843333b7.js.map